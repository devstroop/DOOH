@layout AdminLayout
@page "/admin/campaigns"
@using DOOH.Server.Models.DOOHDB

@attribute [Authorize]
<PageTitle>Campaigns</PageTitle>
<RadzenRow AlignItems="AlignItems.Center" class="rz-mb-3">
    <RadzenColumn Size="12" SizeMD="6">
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
            <RadzenIcon Icon="campaign" Style="font-size: 28px" />
            <RadzenText Text="Campaigns" TextStyle="TextStyle.H4" TagName="TagName.H1" style="margin: 0" />
        </RadzenStack>
    </RadzenColumn>
    <RadzenColumn Size="12" SizeMD="6">
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="0.5rem">
            <RadzenTextBox Placeholder="Search ..." @bind-Value="@search" aria-label="Search" />
            <RadzenButton Icon="search" Click="@Search" />
            <RadzenButton Icon="add" Text="Create" ButtonStyle="ButtonStyle.Primary" Click="@AddButtonClick" class="rz-px-3" />
        </RadzenStack>
    </RadzenColumn>
</RadzenRow>
<RadzenRow>
    <RadzenColumn Visible="@(campaigns != null && !campaigns.Any())">
        <RadzenCard>
            <RadzenText Text="No campaigns found"  />
        </RadzenCard>
    </RadzenColumn>
</RadzenRow>
<RadzenRow>
    <RadzenColumn>
        <RadzenDataList IsLoading="@IsLoading" @ref="@list0" TItem="DOOH.Server.Models.DOOHDB.Campaign" Data="@campaigns" AllowVirtualization="true" LoadData="@campaignsLoadData" Count="@campaignsCount">
            <Template>
                <CampaignTemplate Campaign="@context" Edit="@OnEdit" Delete="@OnDelete"/>
            </Template>
        </RadzenDataList>
    </RadzenColumn>
</RadzenRow>
<style>
    ul.rz-tabview-nav{
        width: 100%;
        display: flex;
        flex-direction: row;
        overflow-x: auto;
    }
    .rz-tabview-left-icon {
        font-size: 15px;
    }
</style>
