@layout AdminLayout
@page "/admin/campaigns/new"
@attribute [Authorize]
<PageTitle>New Campaign</PageTitle>
<RadzenRow class="rz-mb-2">
    <RadzenColumn SizeMD="6">
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
            <RadzenIcon Icon="campaign" Style="font-size: 28px" />
            <RadzenText Text="New Campaign" TextStyle="TextStyle.H5" style="margin: 0" Visible="!CampaignNameEditable" />
            <RadzenTextBox style="appearance: none; font-weight: 500; border: none; text-align: start; font-size: 16px; padding-inline: 6px" @bind-Value="@campaign.CampaignName" Name="CampaignName" Visible="@CampaignNameEditable" />
            <RadzenButton class="rz-ml-2" Icon="edit" ButtonStyle="ButtonStyle.Light" Size="ButtonSize.Small" Visible="!CampaignNameEditable" Click="@((args) => CampaignNameEditable=true)" />
            <RadzenButton class="rz-ml-2" Icon="check" ButtonStyle="ButtonStyle.Primary" Size="ButtonSize.Small" Visible="@CampaignNameEditable" Click="@((args) => CampaignNameEditable=false)" />
        </RadzenStack>
    </RadzenColumn>
    <RadzenColumn SizeMD="6">
        <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.End" AlignItems="AlignItems.Center" Gap="0.5rem">
            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="2rem">
                <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="1rem">
                    <RadzenLabel Text="Budget" class="rz-mb-0" Style="font-size: 14px; font-weight: 500;" />
                    <RadzenSelectBar TValue="int" Size="ButtonSize.Small" @bind-Value="@campaign.BudgetType">
                        <Items>
                            <RadzenSelectBarItem Value="1" Text="Total" />
                            <RadzenSelectBarItem Value="2" Text="Daily" />
                        </Items>
                    </RadzenSelectBar>
                </RadzenStack>
                <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                    <RadzenButton Icon="remove" Size="ButtonSize.Small" Click="@((args) => campaign.Budget -= 100)" />
                    <RadzenNumeric @bind-Value="@campaign.Budget" Name="Budget" Min="0" Max="10000" Style="display: inline-flex; flex-wrap:wrap; width: 84px; appearance: none; font-weight: bolder; border: none; text-align: center; font-size: 16px;" />
                    <RadzenButton Icon="add" Size="ButtonSize.Small" Click="@((args) => campaign.Budget += 100)" />
                </RadzenStack>
            </RadzenStack>
        </RadzenStack>
    </RadzenColumn>
</RadzenRow>

<RadzenTabs @bind-SelectedIndex="@selectedTabIndex">
    <Tabs>
        @* <RadzenTabsItem Text="Basic Details" Icon="label">
            <BasicDetails Campaign=@campaign />
        </RadzenTabsItem> *@
        <RadzenTabsItem Text="Locations" Icon="location_on">
            <Locations />
        </RadzenTabsItem>
        <RadzenTabsItem Text="Advertisements" Icon="featured_video">

        </RadzenTabsItem>
        <RadzenTabsItem Text="Schedule" Icon="schedule">
            <Scheduling />
        </RadzenTabsItem>
        <RadzenTabsItem Text="Review" Icon="grading">

        </RadzenTabsItem>
    </Tabs>
</RadzenTabs>

<style>
    .rz-spinner-button{
        display: none;
    }
</style>

